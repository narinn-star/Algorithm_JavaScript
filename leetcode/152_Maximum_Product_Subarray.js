/**
 * @param {number[]} nums
 * @return {number}
 */

/**
 * Topics : Array, Dynamic Programming
 *
 * Explanation
 * ë„ˆë¬´ ì–´ë ¤ì›Œìš” ,, ðŸ« 
 * ë‘ ê°€ì§€ ë°©ë²•ì„ ì‚¬ìš©í–ˆë‹¤.
 * 1. dp
 * ì•žì—ì„œë¶€í„° ê°’ì„ ìŒ“ì•„ê°€ëŠ”ë°, ë‘ê°€ì§€ ê°’ì„ ìŒ“ì•„ê°„ë‹¤.
 * ì–´ì©Œë©´ ìµœì†Ÿê°’ì— í˜„ìž¬ ê°’ì„ ê³±í–ˆì„ ë•Œ ìµœëŒ“ê°’ì´ ë§Œë“¤ì–´ì§ˆ ìˆ˜ë„ ìžˆê¸° ë•Œë¬¸ì´ë‹¤.
 * ê·¸ëž˜ì„œ í˜„ìž¬ê°’, ìµœëŒ“ê°’ * í˜„ìž¬ê°’, ìµœì†Ÿê°’ * í˜„ìž¬ê°’ ì„¸ ê°€ì§€ ê°’ ì¤‘ ê°€ìž¥ í° ê°’ì„ maxì—, ê°€ìž¥ ìž‘ì€ ê°’ì„ minì— ì €ìž¥í•œë‹¤.
 *
 * 2. ë°˜ë³µë¬¸
 * ë¬¸ì œì˜ ê´€ê±´ì€ ìŒìˆ˜ì´ë‹¤. ìŒìˆ˜ê°€ ì§ìˆ˜ê°œì¼ ë•ŒëŠ” ë¬´ì¡°ê±´ ëª¨ë‘ ê³±í•˜ëŠ” ê²ƒì´ ê°€ìž¥ í° ê°’ì¼ê²ƒì´ê³ ,
 * ìŒìˆ˜ê°€ í™€ìˆ˜ê°œì¼ ë•ŒëŠ” ë§ˆì§€ë§‰ ìŒìˆ˜ê°’ ì´ì „ê¹Œì§€ ê³±í•˜ëŠ” ê²ƒì´ ê°€ìž¥ í° ê°’ì¼ê²ƒì´ë‹¤.
 * í•˜ì§€ë§Œ ìŒìˆ˜ëŠ” ì—¬ê¸°ì €ê¸° í©ì–´ì ¸ìžˆì„ ìˆ˜ ìžˆê¸° ë•Œë¬¸ì—, ì•žì—ì„œë¶€í„° ë§ˆì§€ë§‰ ìŒìˆ˜ ì „ê¹Œì§€ì™€ ë’¤ì—ì„œë¶€í„° ì²«ë²ˆì§¸ ìŒìˆ˜ ì „ê¹Œì§€ì˜ ê°’ì„ êµ¬í•´ì„œ
 * ë¹„êµí•œ ë‹¤ìŒ ê°€ìž¥ í° ê°’ì„ ë¦¬í„´í•œë‹¤.
 *
 * ë‘ë²ˆì§¸ ë°©ë²•ì´ ì¢€ ë” ì ‘ê·¼í•˜ê¸°ë„, ìƒê°í•´ë‚´ê¸°ë„ ì‰¬ì› ë‹¤. ì²«ë²ˆì§¸ ë°©ë²•ë„ ì–»ì–´ê±¸ë¦¬ê¸´ í–ˆì§€ë§Œ ì‹œê°„ì„ ì •ë§ ë§Žì´ì”€..
 *
 */

const maxProduct = (nums) => {
  let max = nums[0];
  let min = nums[0];
  let res = max;

  for (let i = 1; i < nums.length; i++) {
    let num = nums[i]; // í˜„ìž¬ ê°’

    let tmpMax = Math.max(num, max * num, min * num);

    min = Math.min(num, max * num, min * num);

    max = tmpMax;

    res = Math.max(max, res);
  }

  return res;
};

// var maxProduct = (nums) => {
//   let pro = 1,
//     max = nums[0];
//
//   for (let i = 0; i < nums.length; i++) {
//     pro = pro * nums[i];
//     if (max < pro) max = pro;
//     if (pro == 0) pro = 1;
//   }
//
//   pro = 1;
//
//   for (let i = nums.length - 1; i >= 0; i--) {
//     pro = pro * nums[i];
//     if (max < pro) max = pro;
//     if (pro == 0) pro = 1;
//   }
//   return max;
// };

console.log(maxProduct([2, 3, -2, 4]));

// ex [2, 3, -2, 4, -1]

// í°ê±°  [2, 6, -6, -24, 48]
// ìž‘ì€ê±° [2, 3, -12, -48, 24]
