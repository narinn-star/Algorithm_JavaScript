/**
 * @param {number[]} nums
 * @return {number}
 */

/**
 * Topics : Array, Hash Table, Union Find
 *
 * Problem
 * ì •ë ¬ë˜ì–´ ìžˆì§€ ì•Šì€ ë°°ì—´ì—ì„œ ì—°ì†ë˜ëŠ” ìˆ«ìžì˜ ê¸¸ì´ë¥¼ êµ¬í•˜ëŠ” ë¬¸ì œ.
 * sort í•¨ìˆ˜ë¥¼ ì“°ë©´ ì•ˆëœë‹¤. O(n)ìœ¼ë¡œ í’€ì–´ë‚´ì•¼ í•˜ê¸° ë•Œë¬¸..
 * sort í•¨ìˆ˜ëŠ” ë³´í†µ nlognì •ë„ë¼ê³  í•˜ë‹ˆ ë‚´ê°€ í•  ìˆ˜ ìžˆëŠ” ê±´ O(xn)ì¸ ì •ë„? ðŸ« 
 *
 * Explanation
 * ì²«ë²ˆì§¸ ì‹œë„
 * ìŒìˆ˜ê¹Œì§€ ê³ ë ¤í•´ì•¼í•˜ê¸° ë•Œë¬¸ì— ë°°ì—´ í¬ê¸°ëŠ” ê°€ìž¥ ìž‘ì€ ìˆ˜ì˜ ì ˆëŒ“ê°’ì„ offsetìœ¼ë¡œ ë‘ê³ , ì–‘ìˆ˜ ê°¯ìˆ˜ì— ë”í•œ ìˆ˜ë¡œ ë°°ì—´ì„ ì„ ì–¸í–ˆë‹¤.
 * ë§Œì•½ numsì— ìžˆëŠ” ìˆ«ìžë¼ë©´ arr[num]ì— 1ì„ ë„£ì–´ì£¼ì–´ í‘œì‹œí•´ë’€ë‹¤.
 * ê·¸ë¦¬ê³  ë‚˜ì„œ ë‹¤ì‹œ ì²˜ìŒë¶€í„° ëŒë©´ì„œ 0ì´ ë‚˜ì˜¤ë©´ ì—°ì†ì„±ì´ ëŠê¸°ëŠ” ê²ƒì´ë¯€ë¡œ resê°’ì„ ê°±ì‹ í•´ì£¼ê³ , cntëŠ” 0ìœ¼ë¡œ ì´ˆê¸°í™”í•œë‹¤.
 * 0ì´ ì•„ë‹ˆë¼ë©´ ê³„ì† cntë¥¼ ì¦ê°€ì‹œí‚¤ë©´ ëœë‹¤.
 *
 * -> ì‹œê°„ì´ˆê³¼ê°€ ë‚¨..
 * ë°°ì—´ì— ìˆ«ìžê°€ ë„ˆë¬´ í°ê°€ ? ì‚¬ì‹¤ ìž˜ ëª¨ë¥´ê² ë‹¤.. ê°’ì´ ë„ˆë¬´ ì»¤ì„œ ê·¸ëŸ°ë“¯
 *
 * ë‘ë²ˆì§¸ ì‹œë„
 * ë°°ì—´ì´ ì•ˆëœë‹¤ë©´ í•´ì‹œë¥¼ ì¨ë³´ìž.
 * ì–´ì°¨í”¼ í•˜ë‚˜ë§Œ ë“¤ì–´ê°€ë‹ˆê¹Œ í•´ì‹œì…‹ì„ ì¼ë‹¤. ìŒìˆ˜ë¥¼ ê³ ë ¤í•  í•„ìš”ë„ ì—†ìŒ. ì•Œì•„ì„œ ìŒìˆ˜ë„ ì²™ì²™ ë“¤ì–´ê°€ë‹ˆê¹Œ .. ~
 * ê·¸ë¦¬ê³  í•˜ë‚˜ì”© í™•ì¸í•˜ë©´ ëœë‹¤. numSetì— í˜„ìž¬ ê°’ numë³´ë‹¤ ìž‘ì€ ìˆ˜ (num - 1)ì´ ìžˆìœ¼ë©´ ìƒˆë¡œìš´ ì‹œí€€ìŠ¤ê°€ ì‹œìž‘ë  í•„ìš”ê°€ ì—†ë‹¤.
 * ì´ë¯¸ ì‹œìž‘ëœ ì‹œí€€ìŠ¤ì— ê·¸ ê°’ì€ í¬í•¨ë˜ì–´ ìžˆì„ ê²ƒì´ë‹ˆ..! (ì—°ì†ì— ì§‘ì¤‘í•´ì•¼í•¨)
 * ë§Œì•½ ìƒˆë¡œìš´ ì‹œí€€ìŠ¤ê°€ ì‹œìž‘ëœë‹¤ë©´ í˜„ìž¬ ìˆ«ìžë¥¼ ì €ìž¥í•´ì£¼ê³ , ìƒˆë¡œìš´ ì‹œí€€ìŠ¤ ê¸¸ì´ longestë¥¼ ì„ ì–¸í•œë‹¤.
 * ê·¸ë¦¬ê³  ë‚˜ì„œ í˜„ìž¬ ìˆ«ìžë¶€í„° ì—°ì†ë˜ëŠ” ê¸¸ì´ë¥¼ ì°¾ê¸° ìœ„í•´ whileë¬¸ì„ ì‚¬ìš©í–ˆë‹¤. ë§Œì•½ ë°”ë¡œ ë‹¤ìŒ ìˆ«ìžê°€ Setì— ìžˆë‹¤ë©´ ìˆ«ìžì™€ ê¸¸ì´ ëª¨ë‘ ì¦ê°€ì‹œí‚¨ë‹¤.
 * ì—†ìœ¼ë©´ ë°”ë¡œ ë‚˜ì™€ì„œ ìµœëŒ€ ê¸¸ì´ë¥¼ êµ¬í•´ì£¼ë©´ ë!
 *
 * -> ì™•ë¹ ë¦„
 */

const longestConsecutive = (nums) => {
  if (nums.length === 0) return 0;

  const numSet = new Set(nums);
  let max = 0;

  for (let num of numSet) {
    if (!numSet.has(num - 1)) {
      // í˜„ìž¬ num - 1ì´ numSetì— ìžˆìœ¼ë©´ ìƒˆë¡œ ì„¸ì–´ì¤„ í•„ìš” x
      let curNum = num;
      let longest = 1;

      while (numSet.has(curNum + 1)) {
        // í˜„ìž¬ num + 1ì´ numSetì— ìžˆìœ¼ë©´ ì—°ì†ìž„ì„ ëœ»í•¨
        curNum += 1;
        longest += 1;
      }

      max = Math.max(max, longest);
    }
  }

  return max;
  // if (nums.length === 0) return 0;
  // let offset = Math.abs(Math.min(...nums));
  // let max = Math.max(...nums) + offset

  // const arr = new Array(max + 1).fill(0);

  // nums.forEach((num) => {
  //     arr[num + offset] = 1;
  // });

  // let cnt = 0,
  //     res = 1;
  // for (let i = 0; i < arr.length; i++) {
  //     if (arr[i] === 0) {
  //         res = Math.max(res, cnt);
  //         cnt = 0;
  //     } else cnt += 1;
  // }

  // return Math.max(res, cnt);
};

console.log(longestConsecutive([100, 4, 200, 1, 3, 2]));
console.log(longestConsecutive([0, 3, 7, 2, 5, 8, 4, 6, 0, 1]));
